{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/musta/Documents/GitHub/guest_posting/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/musta/Documents/GitHub/guest_posting/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/Users/musta/Documents/GitHub/guest_posting/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/musta/Documents/GitHub/guest_posting/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/musta/Documents/GitHub/guest_posting/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// import axios from \"axios\";\nimport React,{useState}from\"react\";import{useContext}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import{AuthContext}from\"../context/authContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var _useState=useState({username:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),inputs=_useState2[0],setInputs=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),err=_useState4[0],setError=_useState4[1];var navigate=useNavigate();var _useContext=useContext(AuthContext),login=_useContext.login;var handleChange=function handleChange(e){setInputs(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},e.target.name,e.target.value));});};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return login(inputs);case 4:navigate(\"/\");_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](1);setError(_context.t0.response.data);case 10:case\"end\":return _context.stop();}}},_callee,null,[[1,7]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"login\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Login\"}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"input\",{className:\"inpLogin\",required:true,type:\"text\",placeholder:\"username\",name:\"username\",onChange:handleChange}),/*#__PURE__*/_jsx(\"input\",{className:\"inpLogin\",required:true,type:\"password\",placeholder:\"password\",name:\"password\",onChange:handleChange}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,children:\"Login\"}),err&&/*#__PURE__*/_jsx(\"p\",{children:err}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Don't have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Register\"})]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Forgot Password? \",/*#__PURE__*/_jsx(Link,{to:\"/forgotpassword\",children:\"ForgotPassword\"})]})]})]});};export default Login;","map":{"version":3,"names":["React","useState","useContext","Link","useNavigate","AuthContext","Login","username","password","inputs","setInputs","err","setError","navigate","login","handleChange","e","prev","target","name","value","handleSubmit","preventDefault","response","data"],"sources":["C:/Users/musta/Documents/GitHub/guest_posting/client/src/pages/Login.jsx"],"sourcesContent":["// import axios from \"axios\";\r\nimport React, { useState } from \"react\";\r\nimport { useContext } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { AuthContext } from \"../context/authContext\";\r\n\r\nconst Login = () => {\r\n  const [inputs, setInputs] = useState({\r\n    username: \"\",\r\n    password: \"\",\r\n  });\r\n  const [err, setError] = useState(null);\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const { login } = useContext(AuthContext);\r\n\r\n\r\n  const handleChange = (e) => {\r\n    setInputs((prev) => ({ ...prev, [e.target.name]: e.target.value }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await login(inputs)\r\n      navigate(\"/\");\r\n    } catch (err) {\r\n      setError(err.response.data);\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"login\">\r\n      <h1>Login</h1>\r\n      <form>\r\n        <input className=\"inpLogin\"\r\n          required\r\n          type=\"text\"\r\n          placeholder=\"username\"\r\n          name=\"username\"\r\n          onChange={handleChange}\r\n        />\r\n        <input className=\"inpLogin\"\r\n          required\r\n          type=\"password\"\r\n          placeholder=\"password\"\r\n          name=\"password\"\r\n          onChange={handleChange}\r\n        />\r\n        <button onClick={handleSubmit}>Login</button>\r\n        {err && <p>{err}</p>}\r\n        <span>\r\n          Don't have an account? <Link to=\"/register\">Register</Link>\r\n        </span>\r\n        <span>\r\n          Forgot Password? <Link to=\"/forgotpassword\">ForgotPassword</Link>\r\n        </span>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;"],"mappings":"msBAAA;AACA,MAAOA,MAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,UAAU,KAAQ,OAAO,CAClC,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CACpD,OAASC,WAAW,KAAQ,wBAAwB,CAAC,wFAErD,GAAMC,MAAK,CAAG,QAARA,MAAK,EAAS,CAClB,cAA4BL,QAAQ,CAAC,CACnCM,QAAQ,CAAE,EAAE,CACZC,QAAQ,CAAE,EACZ,CAAC,CAAC,wCAHKC,MAAM,eAAEC,SAAS,eAIxB,eAAwBT,QAAQ,CAAC,IAAI,CAAC,yCAA/BU,GAAG,eAAEC,QAAQ,eAEpB,GAAMC,SAAQ,CAAGT,WAAW,EAAE,CAE9B,gBAAkBF,UAAU,CAACG,WAAW,CAAC,CAAjCS,KAAK,aAALA,KAAK,CAGb,GAAMC,aAAY,CAAG,QAAfA,aAAY,CAAIC,CAAC,CAAK,CAC1BN,SAAS,CAAC,SAACO,IAAI,wCAAWA,IAAI,wBAAGD,CAAC,CAACE,MAAM,CAACC,IAAI,CAAGH,CAAC,CAACE,MAAM,CAACE,KAAK,IAAG,CAAC,CACrE,CAAC,CAED,GAAMC,aAAY,4FAAG,iBAAOL,CAAC,oHAC3BA,CAAC,CAACM,cAAc,EAAE,CAAC,sCAEXR,MAAK,CAACL,MAAM,CAAC,QACnBI,QAAQ,CAAC,GAAG,CAAC,CAAC,+EAEdD,QAAQ,CAAC,YAAIW,QAAQ,CAACC,IAAI,CAAC,CAAC,oEAE/B,kBARKH,aAAY,4CAQjB,CACD,mBACE,aAAK,SAAS,CAAC,OAAO,wBACpB,6BAAc,cACd,qCACE,cAAO,SAAS,CAAC,UAAU,CACzB,QAAQ,MACR,IAAI,CAAC,MAAM,CACX,WAAW,CAAC,UAAU,CACtB,IAAI,CAAC,UAAU,CACf,QAAQ,CAAEN,YAAa,EACvB,cACF,cAAO,SAAS,CAAC,UAAU,CACzB,QAAQ,MACR,IAAI,CAAC,UAAU,CACf,WAAW,CAAC,UAAU,CACtB,IAAI,CAAC,UAAU,CACf,QAAQ,CAAEA,YAAa,EACvB,cACF,eAAQ,OAAO,CAAEM,YAAa,mBAAe,CAC5CV,GAAG,eAAI,mBAAIA,GAAG,EAAK,cACpB,+DACyB,KAAC,IAAI,EAAC,EAAE,CAAC,WAAW,sBAAgB,GACtD,cACP,yDACmB,KAAC,IAAI,EAAC,EAAE,CAAC,iBAAiB,4BAAsB,GAC5D,GACF,GACH,CAEV,CAAC,CAED,cAAeL,MAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}