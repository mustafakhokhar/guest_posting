{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/musta/Documents/GitHub/guest_posting/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/musta/Documents/GitHub/guest_posting/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/musta/Documents/GitHub/guest_posting/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useEffect}from\"react\";import{useState}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import axios from\"axios\";import{useContext}from\"react\";import{AuthContext}from\"../context/authContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Users=function Users(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),search_array=_useState2[0],set_search_array=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),banned_user=_useState4[0],user_to_ban=_useState4[1];var get_users=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(\"THE words are : \");_context.prev=1;_context.next=4;return axios.get(\"/postsApproval/users\");case 4:res=_context.sent;set_search_array(res.data);console.log(res.data);_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);console.log(_context.t0);case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,9]]);}));return function get_users(){return _ref.apply(this,arguments);};}();var ban_users=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var res;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log(\"THE words are : \");_context2.prev=1;console.log(\"SENDNG DATA\");_context2.next=5;return axios.post(\"/postsApproval/banning/\".concat(banned_user));case 5:res=_context2.sent;// get_users();\nconsole.log(res.data);_context2.next=12;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](1);console.log(_context2.t0);case 12:case\"end\":return _context2.stop();}}},_callee2,null,[[1,9]]);}));return function ban_users(){return _ref2.apply(this,arguments);};}();var handleClick=function handleClick(event,key,arr){console.log('key index: ',key);// console.log(arr[key].username)\n// let temp = arr[key].username\nuser_to_ban(arr[key].username);console.log(banned_user);ban_users();};useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var res;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios.get(\"/postsApproval/users\");case 3:res=_context3.sent;set_search_array(res.data);_context3.next=10;break;case 7:_context3.prev=7;_context3.t0=_context3[\"catch\"](0);console.log(_context3.t0);case 10:case\"end\":return _context3.stop();}}},_callee3,null,[[0,7]]);}));return function fetchData(){return _ref3.apply(this,arguments);};}();fetchData();});return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"searchedPost\",children:search_array.map(function(result,key){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"searchcontent\",children:[/*#__PURE__*/_jsxs(\"strong\",{className:\"userN\",children:[\"Username: \",result.username]}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"p\",{className:\"userD\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\" Fullname: \"}),result.full_name]}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"p\",{className:\"userD\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\" Status: \"}),result.status]}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"p\",{className:\"userD\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\" Number of reports: \"}),result.total_reports]}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"button\",{className:\"banUserBut\",onClick:function onClick(event){return handleClick(event,key,search_array);},children:[\" \",/*#__PURE__*/_jsx(\"strong\",{children:\"Double Tap = Ban\"})]})]}),/*#__PURE__*/_jsx(\"br\",{})]})});})})})});};export default Users;","map":{"version":3,"names":["React","useEffect","useState","Link","useNavigate","axios","useContext","AuthContext","Users","search_array","set_search_array","banned_user","user_to_ban","get_users","console","log","get","res","data","ban_users","post","handleClick","event","key","arr","username","fetchData","map","result","full_name","status","total_reports"],"sources":["C:/Users/musta/Documents/GitHub/guest_posting/client/src/pages/user.jsx"],"sourcesContent":["import React from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { useContext } from \"react\";\r\nimport { AuthContext } from \"../context/authContext\";\r\n\r\n\r\n\r\nconst Users = () => {\r\n\r\n    const [search_array , set_search_array ] = useState([])\r\n    const [banned_user , user_to_ban] = useState([])\r\n    \r\n    const get_users = async() => {\r\n\r\n        console.log(\"THE words are : \")\r\n        try {\r\n\r\n        const res = await axios.get(`/postsApproval/users`);\r\n        set_search_array(res.data)\r\n        console.log(res.data)\r\n        } catch (err){\r\n          \r\n        \r\n          console.log(err)\r\n        }\r\n    }\r\n\r\n    const ban_users = async() => {\r\n\r\n        console.log(\"THE words are : \")\r\n        try {\r\n        console.log(\"SENDNG DATA\")\r\n        const res = await axios.post(`/postsApproval/banning/${banned_user}`);\r\n        // get_users();\r\n        console.log(res.data)\r\n        } catch (err){\r\n          \r\n        \r\n          console.log(err)\r\n        }\r\n    }\r\n\r\n    const handleClick = (event, key, arr) => {\r\n        console.log('key index: ', key);\r\n        // console.log(arr[key].username)\r\n        // let temp = arr[key].username\r\n        user_to_ban(arr[key].username);\r\n        console.log(banned_user)\r\n        ban_users();\r\n    };\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n          try {\r\n            // console.log(\"YESS I M CALLEDDDDDDD\")\r\n            const res = await axios.get(`/postsApproval/users`);\r\n            set_search_array(res.data)\r\n          } catch (err) {\r\n            console.log(err);\r\n          }\r\n        };\r\n        fetchData();\r\n      });\r\n      \r\n    return (\r\n        <div >   \r\n            <div >\r\n              <div className=\"searchedPost\">\r\n                {search_array.map((result,key) => ( \r\n                <div >\r\n                    <div>\r\n                        <br/>\r\n                        <div className=\"searchcontent\"> \r\n                            <strong className=\"userN\">Username: {result.username}</strong> <br/> \r\n                            <p className=\"userD\"><strong> Fullname: </strong>{result.full_name}</p> <br/> \r\n                            <p className=\"userD\"><strong> Status: </strong>{result.status}</p> <br/> \r\n                            <p className=\"userD\"><strong> Number of reports: </strong>{result.total_reports}</p> <br/> \r\n                            <button className=\"banUserBut\" onClick={event =>handleClick(event, key, search_array)}> <strong>Double Tap = Ban</strong></button>\r\n                        </div>\r\n                        <br/>\r\n                    </div>\r\n                </div>\r\n            ))}\r\n            </div>\r\n            </div>\r\n        </div> \r\n    );\r\n\r\n};\r\n\r\nexport default Users;"],"mappings":"8aAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,SAAS,KAAQ,OAAO,CACjC,OAASC,QAAQ,KAAQ,OAAO,CAChC,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CACpD,MAAOC,MAAK,KAAM,OAAO,CACzB,OAASC,UAAU,KAAQ,OAAO,CAClC,OAASC,WAAW,KAAQ,wBAAwB,CAAC,wFAIrD,GAAMC,MAAK,CAAG,QAARA,MAAK,EAAS,CAEhB,cAA2CN,QAAQ,CAAC,EAAE,CAAC,wCAAhDO,YAAY,eAAGC,gBAAgB,eACtC,eAAoCR,QAAQ,CAAC,EAAE,CAAC,yCAAzCS,WAAW,eAAGC,WAAW,eAEhC,GAAMC,UAAS,4FAAG,6IAEdC,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC,uCAGbV,MAAK,CAACW,GAAG,wBAAwB,QAA7CC,GAAG,eACTP,gBAAgB,CAACO,GAAG,CAACC,IAAI,CAAC,CAC1BJ,OAAO,CAACC,GAAG,CAACE,GAAG,CAACC,IAAI,CAAC,gFAInBJ,OAAO,CAACC,GAAG,aAAK,qEAErB,kBAbKF,UAAS,0CAad,CAED,GAAMM,UAAS,6FAAG,kJAEdL,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC,kBAE/BD,OAAO,CAACC,GAAG,CAAC,aAAa,CAAC,wBACRV,MAAK,CAACe,IAAI,kCAA2BT,WAAW,EAAG,QAA/DM,GAAG,gBACT;AACAH,OAAO,CAACC,GAAG,CAACE,GAAG,CAACC,IAAI,CAAC,oFAInBJ,OAAO,CAACC,GAAG,cAAK,uEAErB,kBAbKI,UAAS,2CAad,CAED,GAAME,YAAW,CAAG,QAAdA,YAAW,CAAIC,KAAK,CAAEC,GAAG,CAAEC,GAAG,CAAK,CACrCV,OAAO,CAACC,GAAG,CAAC,aAAa,CAAEQ,GAAG,CAAC,CAC/B;AACA;AACAX,WAAW,CAACY,GAAG,CAACD,GAAG,CAAC,CAACE,QAAQ,CAAC,CAC9BX,OAAO,CAACC,GAAG,CAACJ,WAAW,CAAC,CACxBQ,SAAS,EAAE,CACf,CAAC,CAEDlB,SAAS,CAAC,UAAM,CACZ,GAAMyB,UAAS,6FAAG,0LAGIrB,MAAK,CAACW,GAAG,wBAAwB,QAA7CC,GAAG,gBACTP,gBAAgB,CAACO,GAAG,CAACC,IAAI,CAAC,oFAE1BJ,OAAO,CAACC,GAAG,cAAK,CAAC,sEAEpB,kBARKW,UAAS,2CAQd,CACDA,SAAS,EAAE,CACb,CAAC,CAAC,CAEJ,mBACI,kCACI,kCACE,YAAK,SAAS,CAAC,cAAc,UAC1BjB,YAAY,CAACkB,GAAG,CAAC,SAACC,MAAM,CAACL,GAAG,qBAC7B,kCACI,oCACI,aAAK,cACL,aAAK,SAAS,CAAC,eAAe,wBAC1B,gBAAQ,SAAS,CAAC,OAAO,wBAAYK,MAAM,CAACH,QAAQ,GAAU,kBAAC,aAAK,cACpE,WAAG,SAAS,CAAC,OAAO,wBAAC,uCAA4B,CAACG,MAAM,CAACC,SAAS,GAAK,kBAAC,aAAK,cAC7E,WAAG,SAAS,CAAC,OAAO,wBAAC,qCAA0B,CAACD,MAAM,CAACE,MAAM,GAAK,kBAAC,aAAK,cACxE,WAAG,SAAS,CAAC,OAAO,wBAAC,gDAAqC,CAACF,MAAM,CAACG,aAAa,GAAK,kBAAC,aAAK,cAC1F,gBAAQ,SAAS,CAAC,YAAY,CAAC,OAAO,CAAE,iBAAAT,KAAK,QAAGD,YAAW,CAACC,KAAK,CAAEC,GAAG,CAAEd,YAAY,CAAC,EAAC,4BAAE,4CAAiC,GAAS,GAChI,cACN,aAAK,GACH,EACJ,EACT,CAAC,EACI,EACA,EACJ,CAGd,CAAC,CAED,cAAeD,MAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}