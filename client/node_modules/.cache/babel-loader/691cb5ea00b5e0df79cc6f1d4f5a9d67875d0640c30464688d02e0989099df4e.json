{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/musta/Documents/GitHub/guest_posting/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/musta/Documents/GitHub/guest_posting/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/musta/Documents/GitHub/guest_posting/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import ReactQuill from\"react-quill\";import\"react-quill/dist/quill.snow.css\";import axios from\"axios\";import{useLocation,useNavigate}from\"react-router-dom\";import moment from\"moment\";import{useContext}from\"react\";import{AuthContext}from\"../context/authContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Polls=function Polls(){var state=useLocation().state;var _useState=useState((state===null||state===void 0?void 0:state.title)||\"\"),_useState2=_slicedToArray(_useState,2),value=_useState2[0],setValue=_useState2[1];var _useState3=useState((state===null||state===void 0?void 0:state.desc)||\"\"),_useState4=_slicedToArray(_useState3,2),title=_useState4[0],setTitle=_useState4[1];var _useState5=useState((state===null||state===void 0?void 0:state.desc)||\"\"),_useState6=_slicedToArray(_useState5,2),option1=_useState6[0],setTag1=_useState6[1];var _useState7=useState((state===null||state===void 0?void 0:state.desc)||\"\"),_useState8=_slicedToArray(_useState7,2),option2=_useState8[0],setTag2=_useState8[1];var _useState9=useState((state===null||state===void 0?void 0:state.desc)||\"\"),_useState10=_slicedToArray(_useState9,2),option3=_useState10[0],setTag3=_useState10[1];var navigate=useNavigate();var _useContext=useContext(AuthContext),currentUser=_useContext.currentUser;var usersname=currentUser.username;var handleClick=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return axios.post(\"/posts/addPoll\",{title:title,// desc: value,\ndate:moment(Date.now()).format(\"YYYY-MM-DD HH:mm:ss\"),usersname:usersname,option1:option1,option2:option2,option3:option3});case 4:navigate(\"/\");_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](1);console.log(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[1,7]]);}));return function handleClick(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"add\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Title\",onChange:function onChange(e){return setTitle(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Poll Option 1\",onChange:function onChange(e){return setTag1(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Poll Option 2\",onChange:function onChange(e){return setTag2(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Poll Option 3\",onChange:function onChange(e){return setTag3(e.target.value);}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"menu\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"item\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Publish\"}),/*#__PURE__*/_jsx(\"div\",{className:\"buttons\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleClick,children:\"Publish\"})})]})})]});};export default Polls;","map":{"version":3,"names":["React","useState","ReactQuill","axios","useLocation","useNavigate","moment","useContext","AuthContext","Polls","state","title","value","setValue","desc","setTitle","option1","setTag1","option2","setTag2","option3","setTag3","navigate","currentUser","usersname","username","handleClick","e","preventDefault","post","date","Date","now","format","console","log","target"],"sources":["C:/Users/musta/Documents/GitHub/guest_posting/client/src/pages/Polls.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport ReactQuill from \"react-quill\";\r\nimport \"react-quill/dist/quill.snow.css\";\r\nimport axios from \"axios\";\r\nimport { useLocation, useNavigate } from \"react-router-dom\";\r\nimport moment from \"moment\";\r\nimport { useContext } from \"react\";\r\nimport { AuthContext } from \"../context/authContext\";\r\n\r\n\r\n\r\nconst Polls = () => {\r\n  const state = useLocation().state;\r\n  const [value, setValue] = useState(state?.title || \"\");\r\n  const [title, setTitle] = useState(state?.desc || \"\");\r\n  const [option1, setTag1] = useState(state?.desc || \"\");\r\n  const [option2, setTag2] = useState(state?.desc || \"\");\r\n  const [option3, setTag3] = useState(state?.desc || \"\");\r\n\r\n\r\n  const navigate = useNavigate()\r\n  const { currentUser } = useContext(AuthContext);\r\n  const usersname= currentUser.username\r\n\r\n  const handleClick = async (e) => {\r\n    e.preventDefault();\r\n\r\n  \r\n    try {\r\n      \r\n        await axios.post(`/posts/addPoll`, {\r\n            title,\r\n            // desc: value,\r\n            date: moment(Date.now()).format(\"YYYY-MM-DD HH:mm:ss\"),\r\n            usersname,\r\n            option1,\r\n            option2,\r\n            option3,\r\n          });\r\n          navigate(\"/\")\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"add\">\r\n      <div className=\"content\">\r\n      <input\r\n          type=\"text\"\r\n          placeholder=\"Title\"\r\n          onChange={(e) => setTitle(e.target.value)}\r\n        />\r\n        \r\n        {/* <div className=\"editorContainer\">\r\n          <ReactQuill\r\n            className=\"editor\"\r\n            theme=\"snow\"\r\n            value={value}\r\n            onChange={setValue}\r\n          />\r\n        </div> */}\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Poll Option 1\"\r\n          onChange={(e) => setTag1(e.target.value)}\r\n        />\r\n         <input\r\n          type=\"text\"\r\n          placeholder=\"Poll Option 2\"\r\n          onChange={(e) => setTag2(e.target.value)}\r\n        />\r\n         <input\r\n          type=\"text\"\r\n          placeholder=\"Poll Option 3\"\r\n          onChange={(e) => setTag3(e.target.value)}\r\n        />\r\n      </div>\r\n      <div className=\"menu\">\r\n        <div className=\"item\">\r\n          <h1>Publish</h1>\r\n          \r\n          \r\n          <div className=\"buttons\">\r\n            <button onClick={handleClick}>Publish</button>\r\n          </div>\r\n        </div>\r\n       \r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Polls;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}